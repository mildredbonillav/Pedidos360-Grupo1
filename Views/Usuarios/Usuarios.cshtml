@{
    ViewData["Title"] = "Usuarios";
}

@Html.AntiForgeryToken()

<div class="d-flex justify-content-between align-items-center mb-4">
    <div>
        <h2 class="fw-bold mb-1" id="lblTitle">Nuevo usuario</h2>
        <p class="text-muted mb-0" id="lblSubtitle">
            Registre un nuevo usuario para esta empresa
        </p>
    </div>

    <div class="d-flex gap-2">
        <a href="/Usuarios/Usuarios_Index" class="btn btn-outline-secondary">
            <i class="fa-solid fa-arrow-left me-1"></i>
            Volver
        </a>

        <button type="button" class="btn btn-primary" id="btnSave" onclick="usuarios_Save()">
            <i class="fa-solid fa-floppy-disk me-1"></i>
            Guardar
        </button>
    </div>
</div>

<div class="card shadow-sm">
    <div class="card-body">

        <!-- Hidden -->

        <div class="row g-3">

            <div class="col-md-4">
                <label class="form-label">Cédula</label>
                <input id="txtcedula" type="number" class="form-control" autocomplete="off" />
                <div class="invalid-feedback" id="err_txtcedula"></div>
            </div>

            <div class="col-md-4">
                <label class="form-label">Nombre</label>
                <input id="txtnombre" class="form-control" autocomplete="off" />
                <div class="invalid-feedback" id="err_txtnombre"></div>
            </div>

            <div class="col-md-4">
                <label class="form-label">Apellidos</label>
                <input id="txtapellidos" class="form-control" autocomplete="off" />
                <div class="invalid-feedback" id="err_txtapellidos"></div>
            </div>

            <div class="col-md-6">
                <label class="form-label">Correo</label>
                <input id="txtcorreo" type="email" class="form-control" autocomplete="off" />
                <div class="invalid-feedback" id="err_txtcorreo"></div>
            </div>

            <div class="col-md-6">
                <label class="form-label">Teléfono</label>
                <input id="txttelefono" type="number" class="form-control" autocomplete="off" />
                <div class="invalid-feedback" id="err_txttelefono"></div>
            </div>

            <div class="col-md-12">
                <label class="form-label">Dirección</label>
                <textarea id="txtdireccion" class="form-control" rows="2" autocomplete="off"></textarea>
                <div class="invalid-feedback" id="err_txtdireccion"></div>
            </div>

        </div>

        <hr class="my-4" />

        <!-- CREATE: contraseña simple -->
        <div id="divPasswordCreate" class="row g-3">
            <div class="col-md-6">
                <label class="form-label">Contraseña</label>
                <input id="txtcontrasena" type="password" class="form-control" autocomplete="new-password" />
                <div class="invalid-feedback" id="err_txtcontrasena"></div>
            </div>

            <div class="col-md-6">
                <label class="form-label">Confirmar contraseña</label>
                <input id="txtconfirmar" type="password" class="form-control" autocomplete="new-password" />
                <div class="invalid-feedback" id="err_txtconfirmar"></div>
            </div>
        </div>

        <!-- EDIT: cambio de contraseña -->
        <div id="divPasswordEdit" class="row g-3 d-none">

            <div class="col-12">
                <small class="text-muted">
                    Deje estos campos vacíos si no desea cambiar la contraseña.
                </small>
            </div>

            <div class="col-md-4">
                <label class="form-label">Contraseña actual</label>
                <input id="txtactual" type="password" class="form-control" autocomplete="current-password" />
                <div class="invalid-feedback" id="err_txtactual"></div>
            </div>

            <div class="col-md-4">
                <label class="form-label">Nueva contraseña</label>
                <input id="txtnueva" type="password" class="form-control" autocomplete="new-password" />
                <div class="invalid-feedback" id="err_txtnueva"></div>
            </div>

            <div class="col-md-4">
                <label class="form-label">Confirmar nueva contraseña</label>
                <input id="txtconfirmarNueva" type="password" class="form-control" autocomplete="new-password" />
                <div class="invalid-feedback" id="err_txtconfirmarNueva"></div>
            </div>

        </div>

        <hr class="my-4" />

        <div class="row g-3">
            <div class="col-md-6">
                <label class="form-label">Rol en esta empresa</label>
                <select id="slcrol" class="form-select" autocomplete="off"></select>
                <div class="invalid-feedback" id="err_slcrol"></div>
            </div>
        </div>

    </div>
</div>

@section Scripts {
    <script src="~/js/Usuarios/Usuarios.js" asp-append-version="true"></script>
}
